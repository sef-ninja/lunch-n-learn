package ninja.sef.simpleindex.crawler;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

public class TikaInfoSheetCrawler implements GameCrawler {

    private GameBuilder infoSheetBuilder;
    
    public TikaInfoSheetCrawler(GameBuilder infoSheetBuilder) {
        this.infoSheetBuilder = infoSheetBuilder;
    }

    public List<Game> crawl(String dirPath) {

        List<Game> infoSheetList = new ArrayList<Game>();
		
        File dir = new File(dirPath);
		for(final File infoSheetFile : dir.listFiles()) {
		    infoSheetList.add(infoSheetBuilder.build(infoSheetFile));
		}    
		
        return infoSheetList;
    }

}
