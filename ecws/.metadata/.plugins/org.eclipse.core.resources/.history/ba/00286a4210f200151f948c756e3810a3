package ninja.sef.simpleindex.crawler;

import java.io.File;
import java.util.ArrayList;
import java.util.List;

public class TikaGameCrawler implements GameCrawler {

    private GameBuilder infoSheetBuilder;
    
    public TikaGameCrawler(GameBuilder infoSheetBuilder) {
        this.infoSheetBuilder = infoSheetBuilder;
    }

    public List<Game> crawl(String dirPath) {

        List<Game> gameList = new ArrayList<Game>();
		
        File dir = new File(dirPath);
		for(final File infoSheetFile : dir.listFiles()) {
		    gameList.add(infoSheetBuilder.build(infoSheetFile));
		}    
		
        return gameList;
    }

}
